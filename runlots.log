--------------------------------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  M:\Projects\Graham\Steroids\2017Submission\Stata\runlots.log
  log type:  text
 opened on:   3 Oct 2017, 17:19:33

. 
. do poissonshell 1280 2.82 0.335 0.69 0.69 105637 10000

. **************************************************************************
. *
. * Program to try out power and sample size for COS project
. *
. * this is the "shell" program for poissonpower 
. *
. *
. * Author: Susanne May
. * Date: 09/16/2017 
. *
. *
. * this program requires 5 input parameters, NOTE input parameter do not seem to work, directly code the values instead
. *
. *       1 = number of observations total (to be divided into 2 groups)
. *       2 = exp(beta0) for the SOC group 
. *       3 = exp(beta1) for the tx group 
. *       4 = percent of observations with zero count/outcome value in SOC group (1)
. *       5 = percent of observations with zero count/outcome value in tx group (2)
. *       6 = random number seed
. *       7 = number of replications 
. *       8 = number of log output file
. *
. *       . do poissonshell 1280 3.1 0.31 0.69 0.69 39083 500
. *
. **************************************************************************
. 
.     display "Simulation started  $S_DATE   $S_TIME"
Simulation started   3 Oct 2017   17:19:33

.     
.     clear

.     use one

.     replace nummer=1 in 1
(0 real changes made)

.     save,replace
file one.dta saved

.     clear

. 
.     simulate obs=r(obs) meanSOC1=r(meanSOC1) sdSOC1=r(sdSOC1) n1=r(n1) n1_0s=r(n1_0s) perc0sSOC1=r(perc0sSOC1) ///
>         meantx2=r(meantx2) sdtx2=r(sdtx2) n2=r(n2) n2_0s=r(n2_0s) perc0stx2=r(perc0stx2) ///
>         meandiff=r(meandiff) realdiff=r(realdiff) ///
>         pvallrtest=r(pvallrtest) chi2lrtest=r(chi2lrtest) reject05lrtest=r(reject05lrtest) ///
>         pvalttestu=r(pvalttestu) tttestu=r(tttestu) reject05tttestu=r(reject05tttestu) incittu=r(incittu) ///
>         pvaltteste=r(pvaltteste) ttteste=r(ttteste) reject05ttteste=r(reject05ttteste) incitte=r(incitte) ///
>         b1wo=r(b1wo) b1sewo=r(b1sewo) b1pvalwo=r(b1pvalwo) reject05regrwo=r(reject05regrwo) b1uciwo=r(b1uciwo) b1lciwo=r(b1lciwo) incilrwo=r(incilrwo) ///
>         b1w=r(b1w) b1sew=r(b1sew) b1pvalw=r(b1pvalw) reject05regrw=r(reject05regrw) b1uciw=r(b1uciw) b1lciw=r(b1lciw) incilrw=r(incilrw) ///
>             , reps(`7'): simula, nn(`1') beta0(`2') beta1(`3') perc0s1(`4') perc0s2(`5') seed(`6')

         command:  simula, nn(1280) beta0(2.82) beta1(0.335) perc0s1(0.69) perc0s2(0.69) seed(105637)
             obs:  r(obs)
        meanSOC1:  r(meanSOC1)
          sdSOC1:  r(sdSOC1)
              n1:  r(n1)
           n1_0s:  r(n1_0s)
      perc0sSOC1:  r(perc0sSOC1)
         meantx2:  r(meantx2)
           sdtx2:  r(sdtx2)
              n2:  r(n2)
           n2_0s:  r(n2_0s)
       perc0stx2:  r(perc0stx2)
        meandiff:  r(meandiff)
        realdiff:  r(realdiff)
      pvallrtest:  r(pvallrtest)
      chi2lrtest:  r(chi2lrtest)
  reject05lrtest:  r(reject05lrtest)
      pvalttestu:  r(pvalttestu)
         tttestu:  r(tttestu)
 reject05tttestu:  r(reject05tttestu)
         incittu:  r(incittu)
      pvaltteste:  r(pvaltteste)
         ttteste:  r(ttteste)
 reject05ttteste:  r(reject05ttteste)
         incitte:  r(incitte)
            b1wo:  r(b1wo)
          b1sewo:  r(b1sewo)
        b1pvalwo:  r(b1pvalwo)
  reject05regrwo:  r(reject05regrwo)
         b1uciwo:  r(b1uciwo)
         b1lciwo:  r(b1lciwo)
        incilrwo:  r(incilrwo)
             b1w:  r(b1w)
           b1sew:  r(b1sew)
         b1pvalw:  r(b1pvalw)
   reject05regrw:  r(reject05regrw)
          b1uciw:  r(b1uciw)
          b1lciw:  r(b1lciw)
         incilrw:  r(incilrw)

Simulations (10000)
----+--- 1 ---+--- 2 ---+--- 3 ---+--- 4 ---+--- 5 
..................................................    50
..................................................   100
..................................................   150
..................................................   200
..................................................   250
..................................................   300
..................................................   350
..................................................   400
..................................................   450
..................................................   500
..................................................   550
..................................................   600
..................................................   650
..................................................   700
..................................................   750
..................................................   800
..................................................   850
..................................................   900
..................................................   950
..................................................  1000
..................................................  1050
..................................................  1100
..................................................  1150
..................................................  1200
..................................................  1250
..................................................  1300
..................................................  1350
..................................................  1400
..................................................  1450
..................................................  1500
..................................................  1550
..................................................  1600
..................................................  1650
..................................................  1700
..................................................  1750
..................................................  1800
..................................................  1850
..................................................  1900
..................................................  1950
..................................................  2000
..................................................  2050
..................................................  2100
..................................................  2150
..................................................  2200
..................................................  2250
..................................................  2300
..................................................  2350
..................................................  2400
..................................................  2450
..................................................  2500
..................................................  2550
..................................................  2600
..................................................  2650
..................................................  2700
..................................................  2750
..................................................  2800
..................................................  2850
..................................................  2900
..................................................  2950
..................................................  3000
..................................................  3050
..................................................  3100
..................................................  3150
..................................................  3200
..................................................  3250
..................................................  3300
..................................................  3350
..................................................  3400
..................................................  3450
..................................................  3500
..................................................  3550
..................................................  3600
..................................................  3650
..................................................  3700
..................................................  3750
..................................................  3800
..................................................  3850
..................................................  3900
..................................................  3950
..................................................  4000
..................................................  4050
..................................................  4100
..................................................  4150
..................................................  4200
..................................................  4250
..................................................  4300
..................................................  4350
..................................................  4400
..................................................  4450
..................................................  4500
..................................................  4550
..................................................  4600
..................................................  4650
..................................................  4700
..................................................  4750
..................................................  4800
..................................................  4850
..................................................  4900
..................................................  4950
..................................................  5000
..................................................  5050
..................................................  5100
..................................................  5150
..................................................  5200
..................................................  5250
..................................................  5300
..................................................  5350
..................................................  5400
..................................................  5450
..................................................  5500
..................................................  5550
..................................................  5600
..................................................  5650
..................................................  5700
..................................................  5750
..................................................  5800
..................................................  5850
..................................................  5900
..................................................  5950
..................................................  6000
..................................................  6050
..................................................  6100
..................................................  6150
..................................................  6200
..................................................  6250
..................................................  6300
..................................................  6350
..................................................  6400
..................................................  6450
..................................................  6500
..................................................  6550
..................................................  6600
..................................................  6650
..................................................  6700
..................................................  6750
..................................................  6800
..................................................  6850
..................................................  6900
..................................................  6950
..................................................  7000
..................................................  7050
..................................................  7100
..................................................  7150
..................................................  7200
..................................................  7250
..................................................  7300
..................................................  7350
..................................................  7400
..................................................  7450
..................................................  7500
..................................................  7550
..................................................  7600
..................................................  7650
..................................................  7700
..................................................  7750
..................................................  7800
..................................................  7850
..................................................  7900
..................................................  7950
..................................................  8000
..................................................  8050
..................................................  8100
..................................................  8150
..................................................  8200
..................................................  8250
..................................................  8300
..................................................  8350
..................................................  8400
..................................................  8450
..................................................  8500
..................................................  8550
..................................................  8600
..................................................  8650
..................................................  8700
..................................................  8750
..................................................  8800
..................................................  8850
..................................................  8900
..................................................  8950
..................................................  9000
..................................................  9050
..................................................  9100
..................................................  9150
..................................................  9200
..................................................  9250
..................................................  9300
..................................................  9350
..................................................  9400
..................................................  9450
..................................................  9500
..................................................  9550
..................................................  9600
..................................................  9650
..................................................  9700
..................................................  9750
..................................................  9800
..................................................  9850
..................................................  9900
..................................................  9950
.................................................. 10000

. 
.     display "Program was run as: do poissonshell `*'"
Program was run as: do poissonshell 1280 2.82 0.335 0.69 0.69 105637 10000

.     display "with arguments: n beta0 beta1 perc0s1 perc0s2 seed reps"
with arguments: n beta0 beta1 perc0s1 perc0s2 seed reps

.     sum obs-realdiff

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
         obs |     10,000        1280           0       1280       1280
    meanSOC1 |     10,000    5.202284    .3225202   4.023438   6.503125
      sdSOC1 |     10,000    8.084327    .1998331   7.294434   8.860343
          n1 |     10,000         640           0        640        640
       n1_0s |     10,000    441.5056    11.78825        393        484
-------------+---------------------------------------------------------
  perc0sSOC1 |     10,000    .6898525    .0184191   .6140625     .75625
     meantx2 |     10,000    7.275381    .4381725   5.707812   9.160937
       sdtx2 |     10,000    11.17779    .2484389   10.11804   12.00482
          n2 |     10,000         640           0        640        640
       n2_0s |     10,000    441.4996    11.61818        390        483
-------------+---------------------------------------------------------
   perc0stx2 |     10,000    .6898431    .0181534    .609375   .7546875
    meandiff |     10,000    2.073098     .543374  -.1203125    4.31875
    realdiff |     10,000    2.069618           0   2.069618   2.069618

.     sum pvallrtest-reject05lrtest

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
  pvallrtest |     10,000    .0000465    .0038226          0   .3782551
  chi2lrtest |     10,000    235.9503    116.0975   .7763651   918.0282
reject05lr~t |     10,000       .9998    .0141414          0          1

.     sum pvaltteste-incitte

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
  pvaltteste |     10,000    .0063567    .0280951   9.69e-15   .8225604
     ttteste |     10,000   -3.796412    .9760573  -7.836513   .2242992
reject05tt~e |     10,000       .9699     .170871          0          1
     incitte |     10,000       .9509    .2160876          0          1

.     sum pvalttestu-incittu

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
  pvalttestu |     10,000    .0063594    .0280972   1.09e-14   .8225618
     tttestu |     10,000   -3.796412    .9760573  -7.836513   .2242992
reject05tt~u |     10,000       .9698    .1711458          0          1
     incittu |     10,000        .951    .2158788          0          1

.     sum b1wo-incilrwo

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
        b1wo |     10,000    2.073098     .543374  -.1203125    4.31875
      b1sewo |     10,000    .5453593    .0092091   .5071365   .5766491
    b1pvalwo |     10,000    .0063567    .0280951   9.69e-15   .8225604
reject05re~o |     10,000       .9699     .170871          0          1
     b1uciwo |     10,000      1.0032    .5371976   -1.17262   3.237578
-------------+---------------------------------------------------------
     b1lciwo |     10,000    3.142995    .5500746    .931995   5.399922
    incilrwo |     10,000       .9509    .2160876          0          1

.     sum b1w-incilrw

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
         b1w |     10,000    2.073098     .543374  -.1203125    4.31875
       b1sew |     10,000    .5453593    .0092091   .5071365   .5766491
     b1pvalw |     10,000    .0063567    .0280951   9.69e-15   .8225604
reject05re~w |     10,000       .9699     .170871          0          1
      b1uciw |     10,000      1.0032    .5371976   -1.17262   3.237578
-------------+---------------------------------------------------------
      b1lciw |     10,000    3.142995    .5500746    .931995   5.399922
     incilrw |     10,000       .9509    .2160876          0          1

.     
.     capture save results.dta, replace

. 
.     display "Simulation ended  $S_DATE   $S_TIME"
Simulation ended   3 Oct 2017   17:38:23

. 
. 
. 
. 
end of do-file

. 
. *do poissonshell 1280 2.82 0.27 0.69 0.67 427433 1000
. 
. log close
      name:  <unnamed>
       log:  M:\Projects\Graham\Steroids\2017Submission\Stata\runlots.log
  log type:  text
 closed on:   3 Oct 2017, 17:38:23
--------------------------------------------------------------------------------------------------------------------------------------------------------------
